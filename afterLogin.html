<html>
<head>
    <title>Contact Manager</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link id="mode" href="css/colors.css" rel="stylesheet">
    <script type="text/javascript" src="js/access.js" defer></script>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function()
        {
            readCookie();
        }, false);
    </script>

</head>
<body>

<!--div box wraps around entire body.  Used for styling purposes-->
<div class="box">


    <!-- logout button WORKS FINE-->
    <div id="loginDiv" style="display:block">
        <span id="userName"></span><br/>
        <button type="button" class="logoutButton" style="display:block" onclick="doLogout();"> Log Out </button>
    </div>


    <h1>Contact Manager</h1>


    <!-- Contacts main page div WORKS FINE-->
    <div id="mainPanel" style="display:block">
        <br />
        <button type="button" onclick="displayChange('searchBox', 'mainPanel');" > Search</button>
        <br/><br/>
        <button type="button" id="goToAddContactsButton" style="display:block" onclick="displayChange('addContactsDiv', 'mainPanel');"> Add </button><br/>

        <br/><br />
    </div>

    <!--    add contacts div screen WORKS FINE-->
    <div id="addContactsDiv" style="display:none">
        <br/>
        <input type="text" id="newContactFName" placeholder="Contact's First Name">
        <input type="text" id="newContactLName" placeholder="Contact's Last Name">
        <input type="text" id="newContactEmail" placeholder="Contact's Email">
        <input type="text" id="newContactPhone" placeholder="Contact's Phone Number">
        <button type="button" id="addContactsButton" style="display:block" onclick="addContacts();"
        > Add </button><br />
        <button type="button" id="returnFromAdd" style="display:block" onclick="displayChange('mainPanel', 'addContactsDiv');"
        >Return to Page </button><br />
        <span id="added"></span>
    </div>

    <!--  searchBox div is called from main panel.  The reason for this intermediary button is that I want to be able to call doSearch() before
    filtering.  This is necessary because doSearch() handles the loading up of contacts from database to table.
    displayChange() takes the user from this div to ContactSearchDiv-->
    <div id = "searchBox" style = "display: none">
        <button type="button" id="searchBox1" style="display:block" onclick="doSearch();
        displayChange('contactSearchDiv', 'searchBox');"> Really Search </button><br/>
    </div>

    <!-- Alright.  This is where most of the problems are occurring.  The edit and delete buttons are self-explanatory.  The table
    is loaded and filtered on searchText by calling filterSearch() when the user types in any key
    A new searchTable appears to be created every time searchBox() gets clicked i.e., every time anything is added or removed from input element-->
    <div id = "contactSearchDiv" style = "display: none">

        <button type="button" id="editFromSearch" style="display:block" onclick="displayChange('editContactDivForm', 'contactSearchDiv');">
            Edit Contact </button><br/>
        <button type="button" id="deleteFromSearch" style="display:block" onclick="displayChange('deleteDiv', 'contactSearchDiv');">
            Delete Contact </button>
        <br/><br/><br/><br/>
        <input type="text" id="searchText" onkeyup="filterSearch();" placeholder="Type who you want." />
        <br/><br/><br/><br/>
        <div id = "searchList">
        </div><br/>
        <button type="button" id="returnFromSearch" style="display:block" onclick="displayChange('mainPanel', 'contactSearchDiv'); /*clearTable();*/">
            Return to Page </button><br/>
    </div>


    <!--    should work fine-->
    <div id = "deleteDiv" style ="display: none">
        <input type="text" id = "deleteContact">  Confirm you want to delete </input>
        <button type="button" id="delete" style="display:block" onclick="displayChange('contactSearchDiv', 'deleteDiv');">
            Confirm Delete </button><br/>
    </div>

    <!-- should work fine -->
    <form id="editContactDivForm" style = "display: none">
        <h2 id="title">Edit Contact</h2>
        <label for="editedFirstName">First Name</label>
        <input type="text" id="editedFirstName"><br/>
        <label for="editedLastName">Last Name</label>
        <input type="text" id="editedLastName"><br/>
        <label for="editedEmail">Email</label>
        <input type="email" id="editedEmail"><br/>
        <label for="editedPhoneNumber">Phone Number</label>
        <input type="tel" id="editedPhoneNumber"><br/>
        <span id="contactID" style="display:none; visibility:hidden;"></span>
        <span id="row" style="display:none; visibility:hidden;"></span>
        <div class="modalButtonLayout">
            <button type="button" id="submitContactBut" class="buttons" onclick="doEdit();">Submit</button>
            <button type="button" id="cancelEditContactButton" class="buttons" onclick="displayChange('contactSearchDiv', 'editContactDivForm')">Cancel</button>
            <span id="submitError"></span>
        </div>
    </form>

</div>
</body>
<script>

</script>

</html>